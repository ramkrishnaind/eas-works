<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="/socket.io/socket.io.js"></script>
    <script>
      // var socket = io("ws://localhost:3334", { transports: ["websocket"] });
      // socket.on("connect", function () {
      //   console.log("connected!");
      //   socket.emit("greet", { message: "Hello Mr.Server!" });
      // });

      // socket.on("respond", function (data) {
      //   console.log(data);
      // });

      var socket = io("http://localhost:3334/", {
        transports: ["websocket"],
      });

      // var form = document.getElementById("form");
      // var input = document.getElementById("input");
      socket.on("connect", function () {
        console.log("connected!");
        // socket.emit("getUsers", {
        //   userRole: "freelancer",
        //   _id: "61b87d3ce1669ae19df20e3b",
        // });
        // socket.on("getUsersResponse", ({ data, from }) => {
        //   console.log("data", data);
        //   console.log("user", from);
        // });
        // socket.emit("createRoom", {
        //   fromUserId: "61b87d3ce1669ae19df20e3b",
        //   toUserId: "61b87a2ae1669ae19df20e36",
        //   isNew: true,
        // });
        // socket.on("createRoomResponse", ({ room }) => {
        //   console.log("room", room);
        // });
        socket.emit("getRoomMessages", {
          chatRoomId: "628f3a603498bcd08c30f57b",
        });
        // socket.emit("sendTextMessage", {
        //   chatRoomId: "628a6e71cc4380a16db018a2",
        //   userId: "61b87a2ae1669ae19df20e36",
        //   message: "Hi Ram",
        // });
        socket.on("getRoomMessagesResponse", ({ chatRoomId, messages }) => {
          console.log("chatRoomId", chatRoomId);
          console.log("messages", messages);
        });
        // document.getElementById("image-file").value;
        // socket.emit("getRoomMessages", {
        //   chatRoomId: "628a6e71cc4380a16db018a2",
        // });
        // socket.on("getRoomMessagesResponse", ({ chatRoomId, messages }) => {
        //   console.log("chatRoomId", chatRoomId);
        //   console.log("messages", messages);
        // });
      });
      const clickHandler = () => {
        // socket.on("connect", function () {
        // socket.emit("sendFileMessage", {
        //   chatRoomId: "628a6e71cc4380a16db018a2",
        //   userId: "61b87a2ae1669ae19df20e36",
        //   fileName: document.getElementById("file").files[0].name,
        //   fileData: document.getElementById("file").files[0],
        // });
        // socket.on("getRoomMessagesResponse", ({ chatRoomId, messages }) => {
        //   console.log("chatRoomId", chatRoomId);
        //   console.log("messages", messages);
        // });
        // });
      };
    </script>
  </head>
  <body>
    <input id="file" type="file" />
    <input type="button" value="submit" onclick="clickHandler()" />
  </body>
</html>
